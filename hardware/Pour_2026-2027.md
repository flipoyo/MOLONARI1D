# A l'attention des mineurs de 2A en 2026/2027

## 1. La version finale de cette année

Des choses marchent : 

- Platformio fonctionne bien et permet la gestion de bibliothèques externes et internes au projet. La gestion du fichier platformio.ini dépend de la suite du projet mais elle peut sûrement être grandement conservée.
- Tout est rangé proprement, la structure est lisible : bibliothèques d'un côté et fichiers principaux de chaque carte de l'autre.
- Tout compile bien sur l'ordinateur, et l'upload sur les cartes focntionne.
- On arrive à recevoir des informations de la carte : l'initialisation de la SD, la lecture de configuration, le lancement des mesures, leur stockage en local
- 


## 2. La suite prévue

Il reste plusieurs choses à implémenter qui ont été réfléchies cette année :

- L'implémentation d'une gestion de plusieurs cartes avec capteurs depuis un même relai. Il faut pouvoir recevoir depuis le relay les informations des différentes cartes avec leur identifiant propre, et gérer proprement les temps d'arrivée des données.
- Il y a un problème car la gateway ne peut pas envoyer des données descendantes, elle ne peut que recevoir. Elle devra être changée en un raspbery. Il faudra coder sa reception des données LoRaWAN et le transfert internet. Avec cela, il faudra rajouter la gestion des données descendantes au niveau du relai et du capteur : recevoir le fichier config et remplacer celui déjà mis sur la carte. On pourrait croire que c'est beaucoup de choses pour un petit résultat, et que beaucoup de problèmes peuvent arriver : fichier corrompu rendant impossible la suite des mesures sur le relai ou le capteur, déconnexion entre les deux car fichier modifié sur un seul, perte de la suite des données...
- Forme d'optimisation des bibliothèques pour les rendre plus claires : petites bibliothèques avec seulement les fonctions de base, ne s'appelant pas les unes les autres. Plus grosses librairies qui les appellent par groupe pour former les blocs important, qu'on appelle ensuite dans les main.

## 3. Quoi de plus ?

Quelques infos générales : 

- C'est bien de savoir coder en c++, sinon il faut regarder les bases sur internet.
- Cela met du temps de comprendre la structure du code et les codes eux-mêmes, bon courage.
- Nous espérons que ça marchera !